mistra-matlab
=============

MATLAB/Octave functions for atmospheric chemistry modelling and
analysis of the output of MISTRA, a one-dimensional chemical model of
the marine boundary layer (https://archive.uea.ac.uk/~fkd06bju/).


REQUIREMENTS
------------

GNU Octave (https://www.gnu.org/software/octave/) is an open source
implementation of MATLAB. The functions in this repository have been
developed and tested on Octave version 3.2.4 and should work without
problems on MATLAB proper.

For GNU Octave, the following additional packages are required:
 - **io** (version 1.0.12)
 - **octcdf** (version 1.0.17)

These packages can be found on the Octave-Forge website
(https://octave.sourceforge.io/). Follow the download and install
instructions on the Octave-Forge website.

*Note 1:* newer versions of the **io** package may cause problems with some
functions.

*Note 2:* the **octcdf** package may require installation of the NetCDF
libraries (see the package documentation).


INSTALL
-------

Unpack the archive in a directory of choice (e.g.,`~/mistra_matlab/`),
then add the directory to the load path of Octave/MATLAB.

In Octave add the following line to the `~/.octaverc` file:

    addpath ("~/mistra_matlab/")

In MATLAB this is done from the Preferences dialog.


DESCRIPTION
-----------

There are three groups of functions in this repository:

1) Generic functions for common calculations in atmospheric chemistry
modelling: rate coefficients, lifetimes, ideal gas law, conversion of
measurements units, etc...

2) MISTRA-specific functions to analyze and plot the output files
generated by the MISTRA model. These functions are named:
 - `plotNC_*.m`
 - `multiplotNC_*.m`
 - `mistra*.m`

 Function `plotNC_traj.m` is not MISTRA-specific. It reads and plots
 the netCDF files of back-trajectories generated by the BADC
 Trajectory Service (http://badc.nerc.ac.uk/community/trajectory/) and
 requires the `WCL.dat` file with world map coordinates in MATLAB
 format (also included in the repository).

3) Utilities used by the other functions. These are stored in the
`m_files/` directory and are partly taken from the freeware JLAB data
analysis package (http://jmlilly.net/software).

All functions are documented. The help text of each function describes
what it does, which input parameters are required and what is the
output. The help text of a function can be recalled from the
Octave/MATLAB command line with the command:

    help  <name of the function>
